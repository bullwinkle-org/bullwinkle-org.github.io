<!doctype html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
		<meta charset="utf-8">
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta property="mobile-web-app-capable" content="yes">
		<link rel="manifest" href="/manifest.json" crossorigin="use-credentials">

		<meta name="author" content="Dmitriy Galnykin">
		<meta name="theme-color" content="#248ee2">

		<!-- SEO -->
		<meta name="robots" content="noindex">
		<meta
				name="keywords"
				content="frontend, web development, bullwinkle and friends, blog, portfolio, github pages, static site, jekyll"
		>
		{% seo %}
		<meta property="og:type" content="website" />
		<meta property="og:image" content="/assets/images/bullwinkle-org/bullwinkle_and_friends_px.png" />
		<meta property="og:image:type" content="image/png">
		<meta property="og:image:width" content="1209">
		<meta property="og:image:height" content="617">
		{% feed_meta %}
		<!-- END SEO -->

		<link rel="apple-touch-icon-precomposed" href="/assets/favicon/apple-touch-icon.png">
		<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/favicon/apple-touch-icon.png" />
		<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/favicon/apple-touch-icon.png" />
		<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/favicon/apple-touch-icon.png" />
		<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
		<link rel="apple-touch-icon" type="image/png" href="/assets/favicon/apple-touch-icon.png" />
		<link rel="icon" type="image/png" sizes="192x192" href="/assets/favicon/android-chrome-192x192.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
		<link rel="icon" type="image/x-icon" href="/assets/favicon/favicon.ico">

		<!-- MAIN STYLES (assets/css/styles.scss) -->
		<link rel="stylesheet" href="/assets/css/styles.css">
		<link rel="stylesheet" href="/assets/css/theme-light.css">
		<link rel="stylesheet" href="/assets/css/theme-dark.css">
		<!-- END MAIN STYLES -->


		<!-- NETLIFY -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
		<!-- END NETLIFY -->
  </head>
	<body class="site-root row-vertical" data-site-theme="light">
		<script>
			window.BWKStore = (() => {
				const read = (key) => localStorage.getItem(key);
				const write = (key, value) => localStorage.setItem(key, value);

				const THEMES = {
					LIGHT: 'light',
					DARK: 'dark',
				};
				const THEME_KEY = 'BWK-theme';

				const setTheme = theme => {
					document.body.dataset.siteTheme = theme;
					write(THEME_KEY, theme);

					return theme;
				};

				const getTheme = () => read(THEME_KEY);

				const currentTheme = setTheme(getTheme() || THEMES.LIGHT);

				return {
					THEMES, THEME_KEY,
					currentTheme,
					setTheme,
					read, write,
				};
			})();
		</script>
		<header class="site-header layout-block row col-auto" style="align-items: center;">
			<div class="col">{% include navigation.html %}</div>

      <div class="col-auto">
        <a href="/admin/">Admin</a>
      </div>

			<div class="col-auto">
				<form
						name="bwkThemeForm"
						onchange="window.BWKStore.setTheme(this.bwkTheme.value)"
						action="javascript:void(0)"
				>
					<label style="cursor:pointer;"><input type="radio" name="bwkTheme" id="bwk-theme-light" value="light"> light</label><br>
					<label style="cursor:pointer;"><input type="radio" name="bwkTheme" id="bwk-theme-dark" value="dark"> dark</label>
				</form>

				<script>window.bwkThemeForm.bwkTheme.value = BWKStore.currentTheme;</script>
			</div>
    </header>

    <div class="site-content layout-block col">
        {{ content }}
    </div>

    <footer class="site-footer layout-block col-auto">
        {% include navigation.html %}
    </footer>

  <!-- NETLIFY -->
    <script>
      if (window.netlifyIdentity) {
        window.netlifyIdentity.on("init", user => {
          if (!user) {
            window.netlifyIdentity.on("login", () => {
              document.location.href = "/admin/";
            });
          }
        });
      }
    </script>
  </body>
</html>
